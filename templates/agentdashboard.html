{% extends 'agentbase.html' %}
{% block content %}
{% load static %}
<style>
    .background-container {
        background-color: rgb(209, 194, 248);
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        filter: blur(0.1px);
        z-index: -1;
    }
    .overlay {
        position: fixed;
        top: 56px; /* Adjusted for navbar height */
        left: 200px; /* Adjusted for navbar width */
        width: calc(100% - 200px); /* Adjusted for navbar width */
        height: calc(100% - 56px); /* Adjusted for navbar height */
       
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        align-items: center;
        overflow-y: auto;
        padding: 20px;
        box-sizing: border-box;
    }
    .nav-link {
        border-radius: 10px;
    }
    .nav-link:hover {
        background-color: indigo;
    }
    .weather-card {
        width: 700px;
        margin-bottom: 20px;
        margin-top: 50px;
        background-color: rgb(168, 254, 225);
        border-radius: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        padding: 5px;
    }
    .weather-content {
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    .weather-icon {
        font-size: 50px;
        margin-bottom: 5px;
        color: #f39c12;
    }
    .weather-details {
        display: flex;
        justify-content: space-around;
        width: 100%;
        margin-top: 10px;
    }
    .weather-details div {
        text-align: center;
    }
    .card-title {
        font-size: 1.5rem;
        color: #333;
    }
    .card-text {
        font-size: 1rem;
        color: #666;
    }
    .inspiration {
        font-size: 1rem;
        color:indigo;
        margin-top: 20px;
    }
    .card-deck {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        margin-top:30px;
    }
    .card {
        width: 250px;
        height: 200px;
        margin: 15px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        border-radius: 15px;
        transition: transform 0.2s, box-shadow 0.2s;
    }
    .card:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .weather-card:hover {
        transform: scale(1.009);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
    }
    .card-icon {
        font-size: 50px;
        margin-bottom: 10px;
    }
    .bg-orange {
        background-color: #FFA500;
    }
    .bg-green {
        background-color: #28a745;
    }
    .bg-red {
        background-color: #dc3545;
    }
    .bg-purple {
        background-color: #6f42c1;
    }
    .bg-purple {
        background-color: #6f42c1;
    }
    .bg-orange .card-icon {
        color: #FFD700;
    }
    .bg-green .card-icon {
        color: #32CD32;
    }
    .bg-red .card-icon {
        color: #FF6347;
    }
    .bg-blue .card-icon {
        color: #1E90FF;
    }
    .bg-purple .card-icon {
        color: #DDA0DD;
    }
    .card-title {
        font-size: 1rem;
        margin-top: 10px;
    }
    .card-text {
        font-size: 0.9rem;
    }
    @media (max-width: 576px) {
        .overlay {
            position: fixed;
            top: 56px;
            left: 0; /* Adjusted for smaller screens */
            width: 100%; /* Adjusted for smaller screens */
            background-color: rgba(12, 9, 9, 0.6);
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            overflow-y: auto;
            padding: 20px;
            box-sizing: border-box;
        }
        .weather-card {
            max-width: 200px;
        }
        .card {
            max-width: 150px;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
            border-radius: 10px;
        }
        .card-deck {
            margin-top: 20px;
        }
        .weather-icon {
            color: #007bff;
            font-size: 2rem;
        }
        .card-title {
            font-size: 0.9rem;
            color: #ffffff;
        }
        .card-text {
            font-size: 0.7rem;
            color: #ffffff;
        }
        .weather-card .card-title {
            color: #007bff;
            font-weight: bold;
            font-size: 0.7rem;
        }
        .weather-card .card-text {
            font-size: 0.5rem;
            color: #17a2b8;
        }
        .weather-card .inspiration {
            font-size: 0.8rem;
            color: #6c757d;
            font-style: italic;
        }
        .weather-card .card-text span {
            color: #28a745;
            font-weight: bold;
            font-size: 0.8rem;
        }
        .profile-image {
            max-width: 40px; /* Adjust as needed for smaller screens */
            max-height: 40px; /* Adjust as needed for smaller screens */
        }
        .recent-visits-card label {
            font-size: 0.7rem;
            font-weight: bold;
            color: #333;
        }
        .recent-visits-card input {
            padding: 2px;
            font-size: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        h2 {
            font-size: 1.3rem;
        }
        td {
            font-size: 0.8rem;
        }
        th {
            font-size: 0.9rem;
        }
    }
    /* Additional styling for weather card */
    .weather-card .card-title {
        color: #007bff;
        font-weight: bold;
    }
    .weather-card .card-text {
        font-size: 1rem;
        color: #17a2b8;
    }
    .weather-card .weather-details i {
        font-size: 1.2rem;
        color: #f39c12;
    }
    .weather-card .inspiration {
        color:indigo;
        font-style: italic;
        font-size: 1.2rem;
        font-weight: bold;

    }
    .weather-card .weather-icon {
        color: #007bff;
        font-size: 3rem;
    }
    .weather-card .card-text span {
        color: #28a745;
        font-weight: bold;
    }
    .card-title {
        font-size: 1.2rem;
        color: #ffffff;
    }
    .card-text {
        font-size: 1rem;
        color: #ffffff;
    }
    /* Styling for recent visits table */
    .recent-visits-card {
        width: 90%;
        margin-top: 20px;
        background-color: rgb(158, 154, 249);
        border-radius: 15px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        padding: 20px;
    }
    .recent-visits-table {
        width: 100%;
        border-collapse: collapse;
        text-align: left;
        overflow-y: auto;
        overflow-x: auto;
    }
    .recent-visits-table th,
    .recent-visits-table td {
        padding: 12px 15px;
        border-bottom: 1px solid #ddd;
    }
    .recent-visits-table th {
        background-color: rgb(10, 7, 83);
        color: white;
        font-weight: bold;
    }
    .recent-visits-table tbody tr:hover {
        background-color: #f1f1f1;
    }
    .recent-visits-table img {
        border-radius: 50%;
        width: 40px;
        height: 40px;
        object-fit: cover;
    }
    .filter-container {
        display: flex;
        gap: 5px;
        margin-bottom: 10px;
        justify-content: right;
        margin-right: 14px;
    }
    .filter-container label {
        font-size: 0.9rem;
        font-weight: bold;
        color: #333;
    }
    .filter-container input {
        padding: 5px;
        font-size: 0.8rem;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
</style>
<div class="background-container"></div>
<div class="overlay">
    <div class="weather-card text-center">
        <div class="weather-content">
            <p class="inspiration"><b>"Every day is a fresh start."</b></p>
            <i class="fas fa-sun weather-icon"></i>
            <h5 class="card-title">Date & Time</h5>
            <p class="card-text">
                <span id="date"></span> | <span id="time"></span>
            </p>
        </div>
    </div>
    <div><canvas id="performanceChart" width="400" height="300"></canvas>
    </div>
    <div class="recent-visits-card">
        <h3 class="text-center">Recently visited Clients</h3>
        <div class="filter-container">
            
            <label for="date-filter" class="datelabel">Date Filter:</label>
            <input type="date" id="date-filter">
        </div>
        <table class="recent-visits-table table-responsive">
            <thead>
                <tr>
                    <th>Client Name</th>
                    <th>Client Photo</th>
                    <th>Address</th>
                    <th>Documentation</th>
                    <th>Visit Time and Date</th>
                    <th>Summary</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>John Doe</td>
                    <td><img src="{% static 'images/nibi.jpeg' %}" alt="Client Photo"></td>
                    <td>123 Main St, Springfield</td>
                    <td><a href="{% static 'documents/summary.pdf' %}" download>id.pdf</a></td>
                    <td>2024-06-12 10:30 AM</td>
                    <td><a href="{% static 'documents/summary.pdf' %}" download>Download PDF</a></td>
                </tr>
                <tr>
                    <td>Maya</td>
                    <td><img src="{% static 'images/kavya.jpg' %}" alt="Client Photo"></td>
                    <td>123 Main St, Springfield</td>
                    <td><a href="{% static 'documents/summary.pdf' %}" download>id.pdf</a></td>
                    <td>2024-06-13 10:34 AM</td>
                    <td><a href="{% static 'documents/summary.pdf' %}" download>Download PDF</a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="card-deck">
        <div class="card bg-purple policy-card">
            <div class="card-icon"><i class="fas fa-car"></i></div>
            <div class="card-title">Auto Insurance</div>
            <div class="card-text">320 policies</div>
        </div>
        <div class="card bg-green policy-card">
            <div class="card-icon"><i class="fas fa-home"></i></div>
            <div class="card-title">Home Insurance</div>
            <div class="card-text">210 policies</div>
        </div>
        <div class="card bg-red policy-card">
            <div class="card-icon"><i class="fas fa-briefcase-medical"></i></div>
            <div class="card-title">Health Insurance</div>
            <div class="card-text">450 policies</div>
        </div>
        <div class="card bg-orange policy-card">
            <div class="card-icon"><i class="fas fa-plane"></i></div>
            <div class="card-title">Travel Insurance</div>
            <div class="card-text">120 policies</div>
        </div>
        
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Display date and time
        var dateElement = document.getElementById('date');
        var timeElement = document.getElementById('time');
        var inspirationElement = document.querySelector('.inspiration');
        var today = new Date();

        var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        dateElement.textContent = today.toLocaleDateString('en-US', options);

        function updateTime() {
            var now = new Date();
            timeElement.textContent = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' });
        }

        updateTime();
        setInterval(updateTime, 60000); // Update time every minute

        // Inspirational messages
        var messages = [
            "Every day is a fresh start.",
            "Believe in yourself and all that you are.",
            "Your only limit is your mind.",
            "Push yourself, because no one else is going to do it for you.",
            "Success is not for the lazy.",
            "Believe you can and you're halfway there."
        ];

        // Randomly select a message
        var randomMessage = messages[Math.floor(Math.random() * messages.length)];
        inspirationElement.textContent = randomMessage;
    });
   
    document.addEventListener('DOMContentLoaded', function() {
        // Mock data for agent performance (replace with actual data)
        var agentPerformanceData = {
            labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
            datasets: [{
                label: 'Performance',
                backgroundColor: 'rgb(5, 2, 87)',
                borderColor: 'rgba(255, 99, 132, 1)',
                borderWidth: 1,
                data: [65, 59, 80, 81, 56, 55], // Replace with actual performance data
            }]
        };

        // Get canvas element
        var ctx = document.getElementById('performanceChart').getContext('2d');

        // Create chart
        var myChart = new Chart(ctx, {
            type: 'bar',
            data: agentPerformanceData,
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    });

</script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

{% endblock %}

